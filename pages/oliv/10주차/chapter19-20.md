# 19ì¥-20ì¥. ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…, ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§

## Deep Dive - SEO

SPAì˜ ë‹¨ì ?

- ì´ˆê¸° ë¡œë”© ì‹œê°„ì´ ëŠë¦¬ë‹¤ -> ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ìœ¼ë¡œ ë³´ì™„
- SEOê°€ ì–´ë µë‹¤ -> ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§.... ë“±ë“±...?

### SEOë¶€í„° ì•Œì•„ë³´ì!

ê²€ìƒ‰ì—”ì§„ ìµœì í™” ì‘ì—…ì€ ì‚¬ì´íŠ¸ ë‚´ ì½˜í…ì¸  ì •ë³´ë¥¼ ê²€ìƒ‰ì—”ì§„ì´ ì˜ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì •ë¦¬í•˜ëŠ” ì‘ì—…ì´ë‹¤. ì´ ì‘ì—…ì„ í†µí•˜ì—¬ ì‚¬ì´íŠ¸ ë‚´ ì½˜í…ì¸ ê°€ ê²€ìƒ‰ ê²°ê³¼ì— ëˆ„ë½ë˜ì§€ ì•Šë„ë¡ ì¡°ì¹˜í•  ìˆ˜ ìˆë‹¤.

1. í¬ë¡¤ë§ : í¬ë¡¤ëŸ¬ë¼ëŠ” ìë™í™”ëœ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ì—¬ ì •ê¸°ì ìœ¼ë¡œ ì›¹ì„ íƒìƒ‰í•˜ê³  ì¸í„°ë„·ì—ì„œ ì°¾ì€ í˜ì´ì§€ë¡œë¶€í„° í…ìŠ¤íŠ¸, ì´ë¯¸ì§€, ë™ì˜ìƒì„ ë‹¤ìš´ë¡œë“œí•œë‹¤.
2. ìƒ‰ì¸ ìƒì„±: í˜ì´ì§€ì˜ í…ìŠ¤íŠ¸, ì´ë¯¸ì§€, ë™ì˜ìƒ íŒŒì¼ì„ ë¶„ì„í•˜ê³  ëŒ€ê·œëª¨ ë°ì´í„°ë² ì´ìŠ¤ì¸ ìƒ‰ì¸ì— ì´ ì •ë³´ë¥¼ ì €ì¥í•œë‹¤.
3. ê²€ìƒ‰ê²°ê³¼ ê²Œì¬: ì‚¬ìš©ìê°€ ê²€ìƒ‰ì—”ì§„ê¸°ì—…(Google,ë„¤ì´ë²„)ì—ì„œ ê²€ìƒ‰í•˜ë©´ ì‚¬ìš©ìì˜ ê²€ìƒ‰ì–´ì™€ ê´€ë ¨ëœ ì •ë³´ë¥¼ ë°˜í™˜í•œë‹¤.

ì—°ê²°ë˜ëŠ” ë§í¬ë¥¼ ë”°ë¼ ëŒì•„ë‹¤ë‹ˆë©° HTMLì„ ì½ê³  ê´€ë ¨ ì½˜í…ì¸ ì˜ ìƒ‰ì¸ì„ ì €ì¥í•´ë‘ê¸° ë•Œë¬¸ì—  
SPAì˜ ê²½ìš° í•œ ê°œì˜ í˜ì´ì§€ë§Œ ìˆ˜ì§‘ë˜ê¸° ë•Œë¬¸ì— ê²€ìƒ‰ì—”ì§„ ìµœì í™”ê°€ ì–´ë µë‹¤ê³  í•˜ëŠ” ê²ƒì´ë‹¤!ğŸ˜¥

#### ì½”í…ŒPTë¡œ í…ŒìŠ¤íŠ¸

1. #root ì°¾ê¸° ğŸ†—

```bash
    startIndex: null,
    endIndex: null,
    children: [],
    name: 'div',
    attribs: [Object: null prototype] { id: 'root' },
    type: 'tag',
    namespace: 'http://www.w3.org/1999/xhtml',
    'x-attribsNamespace': [Object: null prototype] { id: undefined },
    'x-attribsPrefix': [Object: null prototype] { id: undefined }
```

2. #root header ì°¾ê¸° â

```bash
    startIndex: null,
    endIndex: null,
    children: [Array],
    type: 'root',
    'x-mode': 'no-quirks'
```

í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ ë Œë”ë§ì´ ë˜ê¸° ë•Œë¬¸ì— ì´ˆê¸° í˜ì´ì§€ì— ìˆëŠ” #rootë§Œ ì°¾ê¸° ê°€ëŠ¥

### SEO, ê·¸ë˜ì„œ ì–´ë–»ê²Œ í•˜ë¼ê³ ?

#### 1. ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§

- Next.jsì™€ ê°™ì€ í”„ë ˆì„ì›Œí¬ í™œìš©í•˜ê¸°
- Node.jsì™€ Expressë¥¼ ì‚¬ìš©í•œ SSR êµ¬í˜„í•˜ê¸°

  - react-dom/server íŒ¨í‚¤ì§€ì—ì„œ ì œê³µí•˜ëŠ” ReactDOMServer ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ React ì»´í¬ë„ŒíŠ¸ë¥¼ ì„œë²„ì—ì„œ ì •ì  HTMLë¡œ ë Œë”ë§í•œë‹¤.

  ```javascript
  import express from "express";
  import React from "react";
  import ReactDOMServer from "react-dom/server";
  import App from "../src/App";

  const app = express();

  app.get("/*", (req, res) => {
    const appHtml = ReactDOMServer.renderToString(<App />);
    res.send(renderFullPage(appHtml));
  });

  function renderFullPage(html) {
    return `
        <!doctype html>
        <html>
          <head>
            <title>My Page</title>
          </head>
          <body>
            <div id="root">${html}</div>
            <script src="/bundle.js"></script>
          </body>
        </html>
      `;
  }

  app.listen(3000);
  ```

  - ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ì™€ ìƒíƒœ í•˜ì´ë“œë ˆì´ì…˜(SSR) ì²˜ë¦¬ë¥¼ í•´ì¤˜ì•¼ í•œë‹¤.

#### 2. history API í™œìš©

- History API ë¥¼ ì´ìš©í•˜ë©´, ë¸Œë¼ìš°ì €ì˜ ì„¸ì…˜ ê¸°ë¡(ì‚¬ìš©ìê°€ ë°©ë¬¸í–ˆë˜ í˜ì´ì§€)ê³¼ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆë‹¤.
- History.pushState(): ì„¸ì…˜ ê¸°ë¡ì— ìƒˆ í•­ëª©ì„ ì¶”ê°€
- ë¦¬ë¡œë“œ ì—†ì´ URLë§Œ ê°±ì‹  ê°€ëŠ¥

```javascript
var stateObject = { ë°ì´í„°_ì¢…ë¥˜: "ì¤‘ìš”í•œ ë”ë¯¸ ë°ì´í„°" };
history.pushState(stateObject, "", "ìƒˆí˜ì´ì§€.html");
```

- pushState ë©”ì„œë“œë¡œ ì£¼ì†Œë¥¼ ë°”ê¿”ì¤€ë‹¤ë©´ í•´ë‹¹ ë·°ë¥¼ ìƒˆ ì½˜í…ì¸ ê°€ ìˆëŠ” ìƒˆ í˜ì´ì§€ë¡œ ì¸ì‹í•œ ê²€ìƒ‰ì—”ì§„ ë´‡ì´ í•´ë‹¹ í˜ì´ì§€ë¥¼ í¬ë¡¤ë§í•˜ê³  ìƒ‰ì¸ì„ ìƒì„±í•œë‹¤. -> ì—¬ëŸ¬ê°€ì§€ í˜ì´ì§€ë¥¼ ê°€ì§„ ê²ƒì²˜ëŸ¼ ê²€ìƒ‰ì—”ì§„ì— í‘œì‹œê°€ëŠ¥

#### 3. React Helmet

- head íƒœê·¸ëŠ” ê²€ìƒ‰ ê²°ê³¼ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆëŠ” meta íƒœê·¸ ë“± ì¤‘ìš”í•œ SEO ìš”ì†Œê°€ ìˆê¸° ë•Œë¬¸ì— í˜ì´ì§€ë§ˆë‹¤ ë‹¬ë¼ì§€ë„ë¡ ê´€ë¦¬í•´ì•¼ í•œë‹¤.
- Helmetì€ reactì—ì„œ ìœ ì €ê°€ ì¡°ì‘í•  ë•Œë§ˆë‹¤ ê·¸ì— ë§ëŠ” head íƒœê·¸ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê¸°ëŠ¥

#### 4. React Snap

- ë³€í™”í•˜ëŠ” html íŒŒì¼ì„ ìŠ¤ëƒ… ì‚¬ì§„ ì°ë“¯ì´ ê³ ìœ í•œ html íŒŒì¼ë¡œ ë³€í™˜í•˜ì—¬ ë¹Œë“œ
- SSR ë°©ì‹ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ê³ ìœ í•œ htmlë¥¼ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆë‹¤.
- ğŸš¨ìœ ì§€ ë³´ìˆ˜ë¥¼ í•˜ì§€ ì•ŠëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

SSRì„ ì‚¬ìš©í•  ê²ƒì„ ê¶Œì¥í•œë‹¤ê³  í•œë‹¤;;(https://searchadvisor.naver.com/guide/seo-advanced-javascript)

### ì¶œì²˜

- https://wikidocs.net/197645
- https://seo.tbwakorea.com/blog/how-to-seo-spa/
- https://searchadvisor.naver.com/guide/seo-advanced-javascript
- https://developers.google.com/search/docs/fundamentals/get-started-developers?hl=ko
